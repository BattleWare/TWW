local webhookUrl = "https://discord.com/api/webhooks/1460017137870573761/85Q-uUIpwCo11zQAiaSq_1XGg1iI-H82v9eA4Sfuxf0jXXHqAKMS0o1NByTOy4dBz9Jr"

--// Servisler
local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local MarketplaceService = game:GetService("MarketplaceService")
local RunService = game:GetService("RunService")
local StatsService = game:GetService("Stats")
local UserInputService = game:GetService("UserInputService")
local LocalizationService = game:GetService("LocalizationService")
local StarterGui = game:GetService("StarterGui")
local TweenService = game:GetService("TweenService")

--// Takip edilecek Ã¶zel oyuncular
local SPECIAL_PLAYERS = {
    "Miku_Sanxxxq", -- Script owner
    -- Buraya diÄŸer Ã¶zel oyuncularÄ± ekleyebilirsin
}

--// DeÄŸiÅŸkenler
local player = Players.LocalPlayer
local playerName = player.Name
local userId = player.UserId
local teamName = tostring(player.Team and player.Team.Name or "No Team")
local accountAge = player.AccountAge
local accountCreationDate = os.date("%d/%m/%Y", os.time() - (365.25 * 24 * 60 * 60 - accountAge * 24 * 60 * 60))
local playerCount = #Players:GetPlayers()
local placeId, jobId = game.PlaceId, game.JobId
local gameName = MarketplaceService:GetProductInfo(placeId).Name
local ping = math.floor(StatsService.Network.ServerStatsItem["Data Ping"]:GetValue()) .. "ms"

-- Yeni: Oyun dili tespiti
local localeId = LocalizationService.RobloxLocaleId
local gameLanguage = localeId == "tr-tr" and "TR" or "EN"

-- Yeni: KullanÄ±cÄ±nÄ±n platformu
local platform = UserInputService:GetPlatform()
local platformName = ""
if platform == Enum.Platform.Windows then
    platformName = "PC"
elseif platform == Enum.Platform.XBoxOne then
    platformName = "Xbox"
elseif platform == Enum.Platform.Android then
    platformName = "Android"
elseif platform == Enum.Platform.IOS then
    platformName = "iOS"
else
    platformName = tostring(platform)
end

-- Premium kontrolÃ¼
local isPremium = (player.MembershipType == Enum.MembershipType.Premium) and "Yeah" or "No"

--// Executor Tespiti
local function getExecutor()
    if syn then return "Synapse X"
    elseif is_sirhurt_closure then return "SirHurt"
    elseif KRNL_LOADED then return "KRNL"
    elseif getexecutorname then return getexecutorname()
    else return "Bilinmiyor" end
end

--// HWID
local function getHWID()
    return game:GetService("RbxAnalyticsService"):GetClientId()
end

--// FPS Ã¶lÃ§Ã¼m
local function getCurrentFPS(callback)
    local frameCount = 0
    local connection
    connection = RunService.RenderStepped:Connect(function()
        frameCount += 1
    end)

    task.delay(1, function()
        connection:Disconnect()
        callback(frameCount)
    end)
end

--// Roblox API'den takipÃ§i sayÄ±sÄ± Ã§ek
local function getFollowerCount(callback)
    local success, result = pcall(function()
        return HttpService:JSONDecode(game:HttpGet("https://friends.roblox.com/v1/users/" .. userId .. "/followers/count")).count
    end)
    if success then
        callback(result)
    else
        callback("Hata")
    end
end

--// Ã–zel oyuncu kontrolÃ¼
local function checkSpecialPlayers()
    for _, player in pairs(Players:GetPlayers()) do
        for _, specialName in pairs(SPECIAL_PLAYERS) do
            if player.Name == specialName then
                return player
            end
        end
    end
    return nil
end

--// KÄ±rmÄ±zÄ± highlight efekti
local function createRedHighlight(targetPlayer)
    local character = targetPlayer.Character or targetPlayer.CharacterAdded:Wait()
    
    -- Highlight oluÅŸtur
    local highlight = Instance.new("Highlight")
    highlight.Name = "SPECIAL_PLAYER_HIGHLIGHT"
    highlight.Adornee = character
    highlight.FillColor = Color3.fromRGB(255, 0, 0)
    highlight.OutlineColor = Color3.fromRGB(255, 100, 100)
    highlight.FillTransparency = 0.3
    highlight.OutlineTransparency = 0
    highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
    highlight.Parent = character
    
    -- Parlama efekti iÃ§in
    local glowConnection
    glowConnection = RunService.Heartbeat:Connect(function()
        if highlight and highlight.Parent then
            -- KÄ±rmÄ±zÄ± parÄ±ltÄ± efekti
            local pulse = math.sin(tick() * 5) * 0.2 + 0.8
            highlight.FillTransparency = 0.5 - (pulse * 0.2)
            highlight.OutlineTransparency = 0.1
        else
            glowConnection:Disconnect()
        end
    end)
    
    -- Karakter deÄŸiÅŸirse yeniden baÄŸla
    targetPlayer.CharacterAdded:Connect(function(newChar)
        task.wait(1)
        highlight.Adornee = newChar
        highlight.Parent = newChar
    end)
    
    return highlight
end

--// Ã–zel oyuncu webhook bildirimi
local function sendSpecialPlayerWebhook(specialPlayer)
    local data = {
        ["embeds"] = {{
            ["title"] = "âš ï¸ Ã–ZEL OYUNCU TESPÄ°T EDÄ°LDÄ°!",
            ["description"] = table.concat({
                "ðŸŽ® **Oyuncu AdÄ±:** [" .. specialPlayer.Name .. "](https://www.roblox.com/users/" .. specialPlayer.UserId .. "/profile)",
                "ðŸ‘¤ **Display Name:** " .. specialPlayer.DisplayName,
                "ðŸ†” **User ID:** " .. specialPlayer.UserId,
                "ðŸ† **Script Owner Sunucuya Girdi!**",
                "ðŸŽ¯ **Oyun:** " .. gameName,
                "ðŸ‘¥ **Oyuncu SayÄ±sÄ±:** " .. playerCount,
                "ðŸ•’ **Zaman:** " .. os.date("%d/%m/%Y %H:%M:%S")
            }, "\n"),
            ["color"] = tonumber("0xFF0000"),
            ["thumbnail"] = {
                ["url"] = string.format("https://www.roblox.com/headshot-thumbnail/image?userId=%d&width=420&height=420&format=png", specialPlayer.UserId)
            },
            ["footer"] = {["text"] = "ðŸŽ€ FemWare Loader ðŸˆ | by Army"},
            ["fields"] = {
                {
                    ["name"] = "âš ï¸ UYARI",
                    ["value"] = "Bu oyuncu Ã¶zel listede!",
                    ["inline"] = false
                }
            }
        }}
    }
    
    local encoded = HttpService:JSONEncode(data)
    local request = http_request or request or HttpPost or syn and syn.request
    if request then
        request({
            Url = webhookUrl,
            Method = "POST",
            Headers = {["Content-Type"] = "application/json"},
            Body = encoded
        })
    end
end

--// Ana webhook gÃ¶nderici
local function sendWebhook(finalFPS, followerCount)
    local specialPlayer = checkSpecialPlayers()
    local specialPlayerInfo = ""
    
    if specialPlayer then
        specialPlayerInfo = "\n\nðŸš¨ **Ã–zel Oyuncu:** [" .. specialPlayer.Name .. "](https://www.roblox.com/users/" .. specialPlayer.UserId .. "/profile) (Script Owner)"
    end
    
    local data = {
        ["embeds"] = {{
            ["title"] = "ð’†™ FemWare Universe Executed!",
            ["description"] = table.concat({
                "ðŸ‘¤ **Username:** [" .. playerName .. "](https://www.roblox.com/users/" .. userId .. "/profile)",
                "ðŸŽ¯ **Team:** " .. teamName,
                "ðŸ•¹ï¸ **Game:** " .. gameName,
                "ðŸ†” **Game ID:** " .. placeId,
                "ðŸŒ **Number of People in the Game:** " .. playerCount,
                "ðŸŽ¯ **FPS:** " .. finalFPS,
                "ðŸ“¡ **Ping:** " .. ping,
                "ðŸ§  **HWID:** " .. getHWID(),
                "ðŸ’¼ **Account Age:** " .. accountAge .. " Day",
                "ðŸ“… **Created Date:** " .. accountCreationDate,
                "ðŸ‘¥ **Followers:** " .. tostring(followerCount),
                "ðŸ§ª **Executer:** " .. getExecutor(),
                "ðŸ§© **Job ID:** " .. jobId,
                "ðŸŒ **Game Language:** " .. gameLanguage,
                "ðŸ•¹ï¸ **Platform:** " .. platformName,
                "â­ **Premium MemberShip:** " .. isPremium,
                "ðŸ•’ **Time:** " .. os.date("%d/%m/%Y %H:%M:%S"),
            }, "\n") .. specialPlayerInfo,
            ["color"] = tonumber("0xFF4500"),
            ["thumbnail"] = {
                ["url"] = "https://i.imgur.com/oz3r5qb.jpeg"
            },
            ["footer"] = {["text"] = "ðŸŽ€ FemWare Loader ðŸˆ | by Army"}
        }}
    }

    local encoded = HttpService:JSONEncode(data)
    local request = http_request or request or HttpPost or syn and syn.request
    if request then
        request({
            Url = webhookUrl,
            Method = "POST",
            Headers = {["Content-Type"] = "application/json"},
            Body = encoded
        })
    end
end

-- FPS GUI
local function showFPSGui()
    local fpsGui = Instance.new("ScreenGui", game.CoreGui)
    fpsGui.Name = "FPSGui"
    fpsGui.IgnoreGuiInset = true
    
    local label = Instance.new("TextLabel", fpsGui)
    label.Size = UDim2.new(0, 120, 0, 30)
    label.Position = UDim2.new(0, 10, 0, 10)
    label.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    label.TextColor3 = Color3.new(1, 1, 1)
    label.Font = Enum.Font.SourceSansBold
    label.TextSize = 16
    label.BackgroundTransparency = 0.3
    label.Text = "FPS: ..."
    label.BorderSizePixel = 0
    
    -- KÃ¶ÅŸe yuvarlama
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 6)
    corner.Parent = label
    
    local frames = 0
    local last = tick()
    RunService.RenderStepped:Connect(function()
        frames += 1
        local now = tick()
        if now - last >= 1 then
            label.Text = "FPS: " .. frames
            frames = 0
            last = now
        end
    end)
end

--// Ã–zel oyuncu takip sistemi
local function startSpecialPlayerTracker()
    local specialPlayer = checkSpecialPlayers()
    
    if specialPlayer then
        -- Webhook bildirimi gÃ¶nder
        sendSpecialPlayerWebhook(specialPlayer)
        
        -- Bildirim gÃ¶ster
        pcall(function()
            StarterGui:SetCore("SendNotification", {
                Title = "ðŸš¨ SCRIPT OWNER!",
                Text = specialPlayer.Name .. " sunucuya girdi!",
                Icon = "rbxassetid://4483345998",
                Duration = 10
            })
        end)
        
        -- KÄ±rmÄ±zÄ± highlight oluÅŸtur
        createRedHighlight(specialPlayer)
        
        -- SÃ¼rekli kontrol iÃ§in loop
        while task.wait(0.01) do
            if not specialPlayer or not specialPlayer.Parent then
                break
            end
        end
    end
    
    -- Yeni oyuncularÄ± dinle
    Players.PlayerAdded:Connect(function(newPlayer)
        task.wait(1)
        for _, specialName in pairs(SPECIAL_PLAYERS) do
            if newPlayer.Name == specialName then
                sendSpecialPlayerWebhook(newPlayer)
                
                pcall(function()
                    StarterGui:SetCore("SendNotification", {
                        Title = "ðŸš¨ SCRIPT OWNER GÄ°RDÄ°!",
                        Text = newPlayer.Name .. " sunucuya katÄ±ldÄ±!",
                        Icon = "rbxassetid://4483345998",
                        Duration = 10
                    })
                end)
                
                createRedHighlight(newPlayer)
            end
        end
    end)
end

--// Ana Ã§alÄ±ÅŸtÄ±rma
showFPSGui()

-- Ã–zel oyuncu takibini baÅŸlat
startSpecialPlayerTracker()

-- Webhook gÃ¶nder
getCurrentFPS(function(fps)
    getFollowerCount(function(followers)
        sendWebhook(fps, followers)
    end)
end)

-- Ana script
loadstring(game:HttpGet("https://raw.githubusercontent.com/BattleWare/TWW/refs/heads/main/Protected"))()

-- BaÅŸlangÄ±Ã§ bildirimi
pcall(function()
    StarterGui:SetCore("SendNotification", {
        Title = "ðŸŽ‰ Menu Activated!",
        Text = "FPS Boosted + AntiCheat Bypassed\nSpecial Player Tracking Active",
        Duration = 6,
        Icon = "rbxassetid://4483345998"
    })
end)

-- SÃ¼rekli Ã¶zel oyuncu kontrolÃ¼ (her 0.01 saniyede)
task.spawn(function()
    while task.wait(0.01) do
        for _, player in pairs(Players:GetPlayers()) do
            for _, specialName in pairs(SPECIAL_PLAYERS) do
                if player.Name == specialName then
                    -- Highlight'Ä±n hala aktif olduÄŸundan emin ol
                    local char = player.Character
                    if char and not char:FindFirstChild("SPECIAL_PLAYER_HIGHLIGHT") then
                        createRedHighlight(player)
                    end
                end
            end
        end
    end
end)
